---

- import_tasks: install.yml
  when: ansible_distribution == 'Debian' or ansible_distribution == 'Ubuntu'
  tags:
    - postgresql

- import_tasks: users.yml
  when: postgresql.users is defined
  tags:
    - postgresql

- import_tasks: databases.yml
  when: postgresql.databases is defined
  tags:
    - postgresql

- import_tasks: exporter.yml
  when: postgresql.exporter.enabled|default(False)
  tags:
    - postgresql

- import_tasks: consul.yml
  tags:
    - consul
    - postgresql
